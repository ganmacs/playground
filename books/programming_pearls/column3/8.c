#include <stdio.h>
#include <stdlib.h>

/* [1, 2, 4, 8, 16, 32, 64] */
static int table[10] = {
  1 + 4 + 8 + 16 + 32 + 64,     /* 0, 2, 3, 4, 5, 6 */
  16 + 64,                      /* 4, 6 */
  1 + 2 + 4 + 16 + 32,          /* 0, 1, 2, 4, 5 */
  1 + 2 + 4 + 16 + 64,          /* 0, 1, 2, 4, 6 */
  2 + 8 + 16 + 64,               /* 1, 3, 4, 6 */
  1 + 2 + 4 + 8 + 64,           /* 0, 1, 2, 3, 6 */
  1 + 2 + 4 + 8 + 32 + 64,      /* 0, 1, 2, 3, 5, 6 */
  4 + 8 + 16 + 64,              /* 2, 3, 4, 6 */
  1 + 2 + 4 + 8 + 16 + 32 + 64, /* 0, 1, 2, 3, 4, 5, 6  */
  1 + 2 + 4 + 8 + 16 + 64,      /* 0, 1, 2, 3, 4, 6  */
};

/* 3 x 5 */
/* XXX */
/* X X */
/* XXX */
/* X X */
/* XXX */
static int p_table[7][3][2] = {
  {{4, 0}, {4, 1}, {4, 2}},                 /* 0番のバー */
  {{2, 0}, {2, 1}, {2, 2}},
  {{0, 0}, {0, 1}, {0, 2}},
  {{0, 0}, {1, 0}, {2, 0}},
  {{0, 2}, {1, 2}, {1, 2}},
  {{2, 0}, {3, 0}, {4, 0}},
  {{2, 2}, {3, 2}, {4, 2}},
};

void
p_d(int out[][20], int idx, int v)
{
  int o[5][3] = { {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0} };

  for (int i = 0; i < 7; i++) {
    if (((v >> i) & 1) != 1) continue;
    for (int j = 0; j < 3; j++) {
      int *vv = p_table[i][j];
      o[vv[0]][vv[1]] = 1;
    }
  }

  for (int i = 0; i < 5; i++) {
    for (int j = 0; j < 3; j++) {
      out[i][j + (idx * 4)] = o[i][j];
    }
  }
}

void
print_digit(int v)
{
  int output[5] = {0, 0, 0, 0, 0};
  for (int i = 4; (i >= 0) && (v > 0); i--) {
    int j = v % 10;
    output[i] = table[j];
    v /= 10;
  }

  int out[5][20] = {
    {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
    {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
    {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
    {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
    {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
  };


  for (int i = 0; i < 5; i++) {
    p_d(out, i, output[i]);
  }

  for (int i = 0; i < 5; i++) {
    for (int j = 0; j < 20; j++) {
      if (out[i][j])
        printf("X");
      else
        printf(" ");
    }
    puts("");
  }
}

int main(int argc, char *argv[])
{
  int input = 23456;
  print_digit(input);
  return 0;
}
